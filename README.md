<p align="center">
<a href="https://github.com/blu3fishez/colima-tray/blob/main/docs/README.en.md">English</a>
</p>

# A Tray Application for [colima](https://github.com/abiosoft/colima)

> [!NOTE]
>
> 이 버전은 아직 프로토타입 버전이며, 많은 분들의 조언이 필요합니다.
>
> 현재로써는 제한적으로 아래 기능만 지원됩니다.
>
> 1. `colima`의 프로필 기능을 지원하지 않습니다.
> 2. 메모리 할당량도 조절 불가능합니다. 토글 시 메모리 할당량은 `4GB` 로 고정됩니다.
>

## 개요

어쩌다보니 Oracle XE를 맥에 설치할 일이 생겼습니다.

그 과정에서 x86 기반 도커 이미지를 실행하기에 좋은 도커 컨텍스트인 `colima` 를 찾게 되었고, 잘 사용하고 있었습니다.

하지만 어느날 맥북에 배터리 소모가 심해진 것을 깨달았고, 알고보니 `cli` 기반 프로그램인 `colima`가 배터리를 높은 수준으로 사용하는 것을 알게 되었습니다.

그래서 시스템에 최대한 부담을 줄이면서 동시에 편리하게 `colima` 컨텍스트를 토글할 방법을 궁리했고, JavaFX 프로그램으로 만들기로 결심했습니다.

AppleScript로 만들지 않은 이유는 러닝 커브가 있었기 때문이고, 가장 편하면서 가장 시스템에 부담을 주지 않을 Java를 선택했습니다.

개발하다보니, JavaFX 의 GUI 기능도 사용하지 않기로 생각했고, 결국 `AWT` 기능만을 최소한으로 사용하여 앱을 구현하였습니다.

## 주요 기능

### 1. Colima 상태 확인

```
colima status
```

위 명령어를 자동으로 5초마다 실행하여 내 컴퓨터의 `colima` 상태를 확인합니다.

- active : colima 컨텍스트가 켜져있음
- inactive : colima 컨텍스트가 비활성화 되어 있음
- toggling : 트레이의 `toggle colima` 버튼을 눌러 현재 컨텍스트를 켜거나 끄고 있는 상태
- error : 모종의 이유로 에러가 떠서 컨텍스트를 확인할 수 없는 상태

## 설치

두가지 방법이 있습니다.

### 1. Gradle jpackage 빌드

Gradle 명령어 중 jpackage를 실행하여 직접 빌드할 수 있습니다.

### 2. Github Release 에서 다운로드

깃허브에서 release 페이지로 들어가서 직접 `.zip` 파일을 받아주세요.

그 이후 `.zip` 파일을 압축을 풀어 `.app` 을 등록해주세요.

## Contribute

저에게 어떤 PR이라도 보내주세요! 정말 큰 도움이 됩니다.

저는 이 프로젝트를 실제로 제가 사용중입니다.

그러므로, 코드는 꼼꼼히 검토될 겁니다.

저는 코드로 소통하는 것을 좋아합니다.
코드와 PR 주제에 대한 근거만 확실하다면, 어떤 PR이든 상관없습니다.
이 초보 개발자와 같이 성장할 수 있는 기회가 될 수 있을 겁니다.